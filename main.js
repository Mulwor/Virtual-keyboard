(()=>{"use strict";const e=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\","CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter","Shift","z","x","c","v","b","n","m",",",".","/","↑","Shift","Ctrl","Win","Alt","Space","Alt","←","↓","→","Ctrl"],t=["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|","CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter","Shift","Z","X","C","V","B","N","M","<",">","?","↑","Shift","Ctrl","Win","Alt","Space","Alt","←","↓","→","Ctrl"],a=["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","Q","W","E","R","T","Y","U","I","O","P","[","]","\\","CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter","Shift","Z","X","C","V","B","N","M",",",".","/","↑","Shift","Ctrl","Win","Alt","Space","Alt","←","↓","→","Ctrl"],i=["ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","й","ц","у","к","е","н","г","ш","щ","з","х","ъ","\\","CapsLock","ф","ы","в","а","п","р","о","л","д","ж","э","Enter","Shift","я","ч","с","м","и","т","ь","б","ю","/","↑","Shift","Ctrl","Win","Alt","Space","Alt","←","↓","→","Ctrl"],n=["Ё","!",'"',"№",";","%",":","?","*","(",")","_","+","Backspace","Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","/","CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter","Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",",","↑","Shift","Ctrl","Win","Alt","Space","Alt","←","↓","→","Ctrl"],o=["Ё","1","2","3","4","5","6","7","8","9","0","-","=","Backspace","Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","\\","CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter","Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",".","↑","Shift","Ctrl","Win","Alt","Space","Alt","←","↓","→","Ctrl"],r=document.createElement("textarea");r.setAttribute("placeholder","Привет дорогой друг, это моя первая работа с домом. \nПрошу тебя иди строга по кросс-чеку. Не придумывай ничего своего. \nБлагодарю"),document.body.prepend(r);const s=["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace","Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","Key{","Key}","Keyslesh","CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Double-colon","Quote","Enter","ShiftL","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Point","Question","ArrowUp","ShiftR","ControlLeft","Win","AltLeft","Space","AltRight","ArrowLeft","ArrowDown","ArrowRight","ControlRight"];let c=!1,l=!1,u=sessionStorage.getItem("chooseLanguage")?sessionStorage.getItem("chooseLanguage"):"rus";const d=()=>{let d;sessionStorage.setItem("chooseLanguage",u),"rus"===u?(d=i,c?d=o:l&&(d=n)):"eng"===u&&(d=e,c?d=a:l&&(d=t)),document.activeElement!==r&&r.focus(),(()=>{let e=document.querySelector(".keyboard");if(e){let t=0;for(let a=0;a<e.children.length;a+=1)"DIV"!==e.children[a].nodeName?t+=1:e.children[a].innerHTML=d[a-t]}else{e=document.createElement("div");let t="";e.classList.add("keyboard"),e.addEventListener("mousedown",(e=>{e.preventDefault()})),s.forEach(((e,a)=>{let i="";"Backspace"===e?i="backspace origin":"Tab"===e?i="tab origin":"Keyslesh"===e?i="keysleft origin":"CapsLock"===e?i="capsLock origin":"Enter"===e?i="specialEnter origin":"ShiftL"===e?i="specialShift origin":"ShiftR"===e?i="specialShiftTwo origin":"ControlLeft"===e?i="controlL origin":"Space"===e&&(i="specialSpace origin"),t+=`<div class="key ${i}" data-code="${e}">${d[a]}</div>`,[13,27,40,53].includes(a)&&(t+="<br>")})),e.innerHTML=t;const a=document.querySelector(".keyboard");a?a.replaceWith(e):r.after(e)}})()};function g(e){const t=e.target;t&&s.includes(t.getAttribute("data-code"))&&t.classList.add("cartoon")}function y(e){const t=e.target,a=t?t.getAttribute("data-code"):"";"ShiftL"===a&&(l=!1,d()),"CapsLock"===a&&!1!==c||setTimeout((()=>{t&&t.classList.remove("cartoon")}),200)}d();const p=e=>{document.activeElement!==r&&r.focus(),e.preventDefault();const t={...e};return t.shiftOnKeyboard=e.shiftOnKeyboard,t.altOnKeyboard=e.altOnKeyboard,t.moreTimes=e.moreTimes,t.target=document.querySelector(`[data-code=${e.code}]`),t},f=e=>{if(g(e),e.shiftOnKeyboard&&e.altOnKeyboard&&!e.moreTimes)return u="rus"===u?"eng":"rus",null;const t=e.target?e.target.getAttribute("data-code"):"",a=r.selectionStart;if(e.target&&-1===[...e.target.classList].indexOf("origin")&&-1!==[...e.target.classList].indexOf("key")){let t=e.target.innerHTML;t="Space"===t?" ":t,r.value=r.value.substring(0,a)+t+r.value.substring(a),r.setSelectionRange(a+1,a+1)}if("Backspace"===t&&a>0&&(r.value=r.value.substring(0,a-1)+r.value.substring(a),r.setSelectionRange(a-1,a-1)),"CapsLock"===t&&(c=!c,d()),"ShiftL"===t&&(e.moreTimes||(l=!0,d())),"Tab"===t){const e=r.selectionStart;r.value=`${r.value.substring(0,e)}  ${r.value.substring(e)}`,r.setSelectionRange(e+4,e+4)}return null};document.addEventListener("keyup",(e=>y(p(e)))),document.addEventListener("keydown",(e=>f(p(e)))),document.addEventListener("mousedown",g),document.addEventListener("mousedown",(e=>f(e))),document.addEventListener("mouseup",(e=>y(e)))})();
//# sourceMappingURL=main.js.map